(window.webpackJsonp=window.webpackJsonp||[]).push([[224],{4205:function(n,s){n.exports={content:["article",["p","简单几步可以实现 ",["code","Antd"]," 动态主题，此方法适用于 ",["a",{title:null,href:"https://ant.design/"},"Antd-v4"]," 版本。"],["h3","antd 主题切换"],["p","antd 中的动态主题能力来自于 ",["a",{title:null,href:"https://github.com/mzohaibqc/antd-theme-webpack-plugin"},"antd-theme-webpack-plugin"]],["blockquote",["p","之前有提到 ",["code","url(some url)"]," 的问题已经在最新版本修复，可以放心使用了~\n",["code","dist/theme"]," 目录，也移除了自定义插件。"]],["h4","install"],["pre",{lang:"bash",highlighted:'<span class="token function">npm</span> <span class="token function">install</span> antd-theme-webpack-plugin@^1.3.3'},["code","npm install antd-theme-webpack-plugin@^1.3.3"]],["h4","config-overrides.js"],["pre",{lang:"js",highlighted:'<span class="token comment" spellcheck="true">// config-overrides.js</span>\n<span class="token keyword">const</span> AntDesignThemePlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'antd-theme-webpack-plugin\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token operator">...</span>\n<span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>\n  antDir<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">\'./node_modules/antd\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  stylesDir<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">\'./src\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  varFile<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">\'./src/variables.less\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  mainLessFile<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">\'./src/style.less\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  themeVariables<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">\'@primary-color\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  indexFileName<span class="token punctuation">:</span> <span class="token string">\'index.html\'</span><span class="token punctuation">,</span>\n  generateOnce<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// generate color.less on each compilation</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token operator">...</span>\n<span class="token function">addWebpackPlugin</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AntDesignThemePlugin</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">)</span>'},["code","// config-overrides.js\nconst AntDesignThemePlugin = require('antd-theme-webpack-plugin');\n...\nconst options = {\n  antDir: path.join(__dirname, './node_modules/antd'),\n  stylesDir: path.join(__dirname, './src'),\n  varFile: path.join(__dirname, './src/variables.less'),\n  mainLessFile: path.join(__dirname, './src/style.less'),\n  themeVariables: ['@primary-color'],\n  indexFileName: 'index.html',\n  generateOnce: false, // generate color.less on each compilation\n};\n...\naddWebpackPlugin(new AntDesignThemePlugin(options))"]],["p","插件的参数可以参考原来的文档：",["a",{title:null,href:"https://github.com/mzohaibqc/antd-theme-webpack-plugin"},"antd-theme-webpack-plugin"],"。"],["p","这里在设置参数的时候，有几个需要",["strong","注意"],"的地方："],["ul",["li",["p",["code","stylesDir"]," 需要包含本地开发的所有的样式文件。"]],["li",["p",["code","mainLessFile"]," 需要引入所有 ",["code","Antd"]," 的变量，比如下面的例子："]]],["pre",{lang:"js",highlighted:'<span class="token comment" spellcheck="true">// antd variables</span>\n@<span class="token keyword">import</span> <span class="token string">\'~antd/es/style/themes/default.less\'</span><span class="token punctuation">;</span>\n<span class="token comment" spellcheck="true">// dantd variables</span>\n@<span class="token keyword">import</span> <span class="token string">\'~dcloud-design/es/style/themes.less\'</span><span class="token punctuation">;</span>'},["code","// antd variables\n@import '~antd/es/style/themes/default.less';\n// dantd variables\n@import '~dcloud-design/es/style/themes.less';"]]],meta:{order:4,title:"动态主题",filename:"docs/theme.md"},toc:["ul"]}}}]);