(window.webpackJsonp=window.webpackJsonp||[]).push([[171],{4152:function(n,s,a){n.exports={base:a(5235)}},5235:function(n,s,a){n.exports={content:[],meta:{order:0,title:"基本",filename:"components/extend/editable-table/demo/base.md",id:"components-extend-editable-table-demo-base"},toc:["ul"],highlightedCode:["pre",{lang:"tsx",highlighted:'import React<span class="token punctuation">,</span> { useState } from <span class="token string">\'react\'</span><span class="token comment" spellcheck="true">;</span>\nimport { XForm as XFormComponent<span class="token punctuation">,</span> IFormItem } from <span class="token string">\'../../x-form\'</span><span class="token comment" spellcheck="true">;</span>\nimport { Form<span class="token punctuation">,</span> Row<span class="token punctuation">,</span> Col<span class="token punctuation">,</span> Button<span class="token punctuation">,</span> Input<span class="token punctuation">,</span> <span class="token keyword">Select</span><span class="token punctuation">,</span> DatePicker } from <span class="token string">\'knowdesign\'</span><span class="token comment" spellcheck="true">;</span>\nimport { EditableTable } from <span class="token string">\'knowdesign\'</span><span class="token comment" spellcheck="true">;</span>\nimport moment from <span class="token string">\'moment\'</span><span class="token comment" spellcheck="true">;</span>\n\ninterface ITableData {\n  id<span class="token punctuation">:</span> string<span class="token comment" spellcheck="true">;</span>\n  edit<span class="token operator">?</span><span class="token punctuation">:</span> boolean<span class="token comment" spellcheck="true">;</span>\n  <span class="token punctuation">[</span>key<span class="token punctuation">:</span> string<span class="token punctuation">]</span><span class="token punctuation">:</span> any<span class="token comment" spellcheck="true">;</span>\n}\n\ninterface IEditRenderNode {\n  <span class="token punctuation">(</span>text<span class="token operator">?</span><span class="token punctuation">:</span> any<span class="token punctuation">,</span> record<span class="token operator">?</span><span class="token punctuation">:</span> ITableData<span class="token punctuation">)</span><span class="token punctuation">:</span> any<span class="token comment" spellcheck="true">;</span>\n}\n\n<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">[</span>\n  {\n    id<span class="token punctuation">:</span> <span class="token number">11113213211</span><span class="token punctuation">,</span>\n    title<span class="token punctuation">:</span> <span class="token string">\'1\'</span><span class="token punctuation">,</span>\n    desc<span class="token punctuation">:</span> <span class="token string">\'这是描述\'</span><span class="token punctuation">,</span>\n    state<span class="token punctuation">:</span> <span class="token string">\'open\'</span><span class="token punctuation">,</span>\n    created_at<span class="token punctuation">:</span> <span class="token string">\'2021-10-08\'</span>\n  }<span class="token punctuation">,</span>\n  {\n    id<span class="token punctuation">:</span> <span class="token number">11113223211</span><span class="token punctuation">,</span>\n    title<span class="token punctuation">:</span> <span class="token string">\'1\'</span><span class="token punctuation">,</span>\n    desc<span class="token punctuation">:</span> <span class="token string">\'描述哈哈哈\'</span><span class="token punctuation">,</span>\n    state<span class="token punctuation">:</span> <span class="token string">\'all\'</span><span class="token punctuation">,</span>\n    created_at<span class="token punctuation">:</span> <span class="token string">\'2021-10-08\'</span>\n  }<span class="token punctuation">,</span>\n<span class="token punctuation">]</span>\n\nexport <span class="token keyword">const</span> IsEdit <span class="token operator">=</span> <span class="token punctuation">(</span>_text<span class="token punctuation">:</span> any<span class="token punctuation">,</span> record<span class="token punctuation">:</span> ITableData<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> {\n  return <span class="token punctuation">(</span>noEditRenderNode<span class="token punctuation">:</span> IEditRenderNode<span class="token punctuation">,</span> editRenderNode<span class="token punctuation">:</span> IEditRenderNode<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> {\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>record<span class="token operator">?</span><span class="token punctuation">.</span>edit<span class="token punctuation">)</span> {\n      return <span class="token function">editRenderNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n    }\n    return <span class="token function">noEditRenderNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n  }<span class="token comment" spellcheck="true">;</span>\n}<span class="token comment" spellcheck="true">;</span>\n\nexport <span class="token keyword">const</span> columns <span class="token operator">=</span> <span class="token punctuation">[</span>\n  {\n    dataIndex<span class="token punctuation">:</span> <span class="token string">\'title\'</span><span class="token punctuation">,</span>\n    title<span class="token punctuation">:</span> <span class="token string">\'活动名称\'</span><span class="token punctuation">,</span>\n    key<span class="token punctuation">:</span> <span class="token string">\'title\'</span><span class="token punctuation">,</span>\n    render<span class="token punctuation">:</span> <span class="token punctuation">(</span>text<span class="token punctuation">,</span> record<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span>\n      <span class="token function">IsEdit</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> record<span class="token punctuation">)</span><span class="token punctuation">(</span>\n        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> text<span class="token punctuation">,</span>\n        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> {\n          return <span class="token punctuation">(</span>\n            <span class="token operator">&lt;</span>div<span class="token operator">></span>\n              <span class="token operator">&lt;</span>Form<span class="token punctuation">.</span>Item\n                className<span class="token operator">=</span>{`tpl<span class="token operator">-</span>table<span class="token operator">-</span>formitem`}\n                name<span class="token operator">=</span>{<span class="token string">\'title\'</span>}\n                key<span class="token operator">=</span>{<span class="token string">\'title\'</span>}\n                <span class="token operator">/</span><span class="token operator">/</span> label<span class="token operator">=</span>{formItem<span class="token punctuation">.</span>label}\n                rules<span class="token operator">=</span>{<span class="token punctuation">[</span>{ required<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> message<span class="token punctuation">:</span> <span class="token string">\'\'</span> }<span class="token punctuation">]</span>}\n                <span class="token operator">/</span><span class="token operator">/</span> valuePropName<span class="token operator">=</span>{}\n              <span class="token operator">></span>\n                <span class="token operator">&lt;</span>Input<span class="token operator">/</span><span class="token operator">></span>\n              <span class="token operator">&lt;</span><span class="token operator">/</span>Form<span class="token punctuation">.</span>Item<span class="token operator">></span>\n            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n          <span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n        }\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n  }<span class="token punctuation">,</span>\n  {\n    dataIndex<span class="token punctuation">:</span> <span class="token string">\'state\'</span><span class="token punctuation">,</span>\n    title<span class="token punctuation">:</span> <span class="token string">\'状态\'</span><span class="token punctuation">,</span>\n    key<span class="token punctuation">:</span> <span class="token string">\'state\'</span><span class="token punctuation">,</span>\n    render<span class="token punctuation">:</span> <span class="token punctuation">(</span>text<span class="token punctuation">,</span> record<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span>\n      <span class="token function">IsEdit</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> record<span class="token punctuation">)</span><span class="token punctuation">(</span>\n        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span>text <span class="token operator">==</span><span class="token operator">=</span> <span class="token string">\'all\'</span> <span class="token operator">?</span> <span class="token string">\'全部\'</span> <span class="token punctuation">:</span> <span class="token string">\'未解决\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> {\n          return <span class="token punctuation">(</span>\n            <span class="token operator">&lt;</span>div<span class="token operator">></span>\n              <span class="token operator">&lt;</span>Form<span class="token punctuation">.</span>Item\n                className<span class="token operator">=</span>{`tpl<span class="token operator">-</span>table<span class="token operator">-</span>formitem`}\n                name<span class="token operator">=</span>{<span class="token string">\'state\'</span>}\n                key<span class="token operator">=</span>{<span class="token string">\'state\'</span>}\n                rules<span class="token operator">=</span>{<span class="token punctuation">[</span>{ required<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> message<span class="token punctuation">:</span> <span class="token string">\'\'</span> }<span class="token punctuation">]</span>}\n                initialValue<span class="token operator">=</span>{<span class="token string">\'all\'</span>}\n              <span class="token operator">></span>\n                <span class="token operator">&lt;</span><span class="token keyword">Select</span><span class="token operator">></span>\n                  {<span class="token punctuation">[</span><span class="token string">\'all\'</span><span class="token punctuation">,</span> <span class="token string">\'open\'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>item <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&lt;</span><span class="token keyword">Select</span><span class="token punctuation">.</span>Option value<span class="token operator">=</span>{item}<span class="token operator">></span>{item}<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">Select</span><span class="token punctuation">.</span>Option<span class="token operator">></span><span class="token punctuation">)</span>}\n                <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">Select</span><span class="token operator">></span>\n              <span class="token operator">&lt;</span><span class="token operator">/</span>Form<span class="token punctuation">.</span>Item<span class="token operator">></span>\n            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n          <span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n        }\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n  }<span class="token punctuation">,</span>\n  {\n    dataIndex<span class="token punctuation">:</span> <span class="token string">\'desc\'</span><span class="token punctuation">,</span>\n    title<span class="token punctuation">:</span> <span class="token string">\'描述\'</span><span class="token punctuation">,</span>\n    key<span class="token punctuation">:</span> <span class="token string">\'desc\'</span><span class="token punctuation">,</span>\n    render<span class="token punctuation">:</span> <span class="token punctuation">(</span>text<span class="token punctuation">,</span> record<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span>\n      <span class="token function">IsEdit</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> record<span class="token punctuation">)</span><span class="token punctuation">(</span>\n        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> text<span class="token punctuation">,</span>\n        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> {\n          return <span class="token punctuation">(</span>\n            <span class="token operator">&lt;</span>div<span class="token operator">></span>\n              <span class="token operator">&lt;</span>Form<span class="token punctuation">.</span>Item\n                className<span class="token operator">=</span>{`tpl<span class="token operator">-</span>table<span class="token operator">-</span>formitem`}\n                name<span class="token operator">=</span>{<span class="token string">\'desc\'</span>}\n                key<span class="token operator">=</span>{<span class="token string">\'desc\'</span>}\n                rules<span class="token operator">=</span>{<span class="token punctuation">[</span>{ required<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> message<span class="token punctuation">:</span> <span class="token string">\'\'</span> }<span class="token punctuation">]</span>}\n                initialValue<span class="token operator">=</span>{record<span class="token punctuation">.</span>desc}\n              <span class="token operator">></span>\n                <span class="token operator">&lt;</span>Input<span class="token operator">/</span><span class="token operator">></span>\n              <span class="token operator">&lt;</span><span class="token operator">/</span>Form<span class="token punctuation">.</span>Item<span class="token operator">></span>\n            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n          <span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n        }\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n  }<span class="token punctuation">,</span>\n  {\n    dataIndex<span class="token punctuation">:</span> <span class="token string">\'city\'</span><span class="token punctuation">,</span>\n    title<span class="token punctuation">:</span> <span class="token string">\'城市\'</span><span class="token punctuation">,</span>\n    key<span class="token punctuation">:</span> <span class="token string">\'city\'</span><span class="token punctuation">,</span>\n    render<span class="token punctuation">:</span> <span class="token punctuation">(</span>text<span class="token punctuation">,</span> record<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span>\n      <span class="token function">IsEdit</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> record<span class="token punctuation">)</span><span class="token punctuation">(</span>\n        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> text<span class="token punctuation">,</span>\n        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> {\n          return <span class="token punctuation">(</span>\n            <span class="token operator">&lt;</span>div<span class="token operator">></span>\n              <span class="token operator">&lt;</span>Form<span class="token punctuation">.</span>Item\n                className<span class="token operator">=</span>{`tpl<span class="token operator">-</span>table<span class="token operator">-</span>formitem`}\n                name<span class="token operator">=</span>{<span class="token string">\'city\'</span>}\n                key<span class="token operator">=</span>{<span class="token string">\'city\'</span>}\n                rules<span class="token operator">=</span>{<span class="token punctuation">[</span>{ required<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> message<span class="token punctuation">:</span> <span class="token string">\'\'</span> }<span class="token punctuation">]</span>}\n                initialValue<span class="token operator">=</span>{record<span class="token punctuation">.</span>city}\n              <span class="token operator">></span>\n                <span class="token operator">&lt;</span>Input<span class="token operator">/</span><span class="token operator">></span>\n              <span class="token operator">&lt;</span><span class="token operator">/</span>Form<span class="token punctuation">.</span>Item<span class="token operator">></span>\n            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n          <span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n        }\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n  }<span class="token punctuation">,</span>\n<span class="token punctuation">]</span><span class="token comment" spellcheck="true">;</span>\n\n<span class="token keyword">const</span> Demo  <span class="token operator">=</span>  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> {\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>dataSource<span class="token punctuation">,</span> setDataSource<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>form<span class="token punctuation">]</span> <span class="token operator">=</span> Form<span class="token punctuation">.</span><span class="token function">useForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>rowData<span class="token punctuation">,</span> setRowData<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>{}<span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>tableForm<span class="token punctuation">]</span> <span class="token operator">=</span> Form<span class="token punctuation">.</span><span class="token function">useForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n  <span class="token keyword">const</span> formMap <span class="token operator">=</span> <span class="token punctuation">[</span>\n    {\n      key<span class="token punctuation">:</span> <span class="token string">"title"</span><span class="token punctuation">,</span>\n      label<span class="token punctuation">:</span> <span class="token string">"活动名称"</span><span class="token punctuation">,</span>\n      type<span class="token punctuation">:</span> <span class="token string">"input"</span><span class="token punctuation">,</span>\n      placeholder<span class="token punctuation">:</span> <span class="token string">"请选择"</span><span class="token punctuation">,</span>\n    }<span class="token punctuation">,</span>\n    {\n      key<span class="token punctuation">:</span> <span class="token string">"state"</span><span class="token punctuation">,</span>\n      label<span class="token punctuation">:</span> <span class="token string">"状态"</span><span class="token punctuation">,</span>\n      type<span class="token punctuation">:</span> <span class="token string">"select"</span><span class="token punctuation">,</span>\n      options<span class="token punctuation">:</span> <span class="token punctuation">[</span>{value<span class="token punctuation">:</span> <span class="token string">\'all\'</span><span class="token punctuation">,</span> label<span class="token punctuation">:</span> <span class="token string">\'全部\'</span>}<span class="token punctuation">,</span> {value<span class="token punctuation">:</span> <span class="token string">\'open\'</span><span class="token punctuation">,</span> label<span class="token punctuation">:</span> <span class="token string">\'未解决\'</span>}<span class="token punctuation">]</span><span class="token punctuation">,</span>\n      placeholder<span class="token punctuation">:</span> <span class="token string">"请选择"</span><span class="token punctuation">,</span>\n    }<span class="token punctuation">,</span>\n    {\n      key<span class="token punctuation">:</span> <span class="token string">"desc"</span><span class="token punctuation">,</span>\n      label<span class="token punctuation">:</span> <span class="token string">"描述"</span><span class="token punctuation">,</span>\n      type<span class="token punctuation">:</span> <span class="token string">"input"</span><span class="token punctuation">,</span>\n      placeholder<span class="token punctuation">:</span> <span class="token string">"请输入"</span><span class="token punctuation">,</span>\n    }<span class="token punctuation">,</span>\n    {\n      key<span class="token punctuation">:</span> <span class="token string">"city"</span><span class="token punctuation">,</span>\n      label<span class="token punctuation">:</span> <span class="token string">"城市"</span><span class="token punctuation">,</span>\n      type<span class="token punctuation">:</span> <span class="token string">"input"</span><span class="token punctuation">,</span>\n      placeholder<span class="token punctuation">:</span> <span class="token string">"请输入"</span><span class="token punctuation">,</span>\n    }<span class="token punctuation">,</span>\n  <span class="token punctuation">]</span> as unknown as IFormItem<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token comment" spellcheck="true">;</span>\n\n  <span class="token keyword">const</span> onAdd <span class="token operator">=</span> async <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> {\n    <span class="token keyword">const</span> value <span class="token operator">=</span> await form<span class="token punctuation">.</span><span class="token function">getFieldsValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n    value<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1000000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>\n    <span class="token function">setRowData</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>\n  }\n  return <span class="token operator">&lt;</span>div<span class="token operator">></span>\n    <span class="token operator">&lt;</span>div style<span class="token operator">=</span>{{ marginTop<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span> background<span class="token punctuation">:</span> <span class="token string">\'#fff\'</span> }}<span class="token operator">></span>\n      <span class="token operator">&lt;</span>Row gutter<span class="token operator">=</span>{<span class="token number">10</span>}<span class="token operator">></span>\n        <span class="token operator">&lt;</span>Col span<span class="token operator">=</span>{<span class="token number">20</span>}<span class="token operator">></span>\n          <span class="token operator">&lt;</span>XFormComponent formMap<span class="token operator">=</span>{formMap} form<span class="token operator">=</span>{form} formData<span class="token operator">=</span>{<span class="token punctuation">[</span><span class="token punctuation">]</span>} formItemColSpan<span class="token operator">=</span>{<span class="token number">6</span>} formLayout<span class="token operator">=</span>{{\n            labelCol<span class="token punctuation">:</span> { span<span class="token punctuation">:</span> <span class="token number">8</span> }<span class="token punctuation">,</span>\n            wrapperCol<span class="token punctuation">:</span> { span<span class="token punctuation">:</span> <span class="token number">16</span> }<span class="token punctuation">,</span>\n          }}<span class="token operator">/</span><span class="token operator">></span>\n        <span class="token operator">&lt;</span><span class="token operator">/</span>Col<span class="token operator">></span>\n        <span class="token operator">&lt;</span>Col span<span class="token operator">=</span>{<span class="token number">4</span>}<span class="token operator">></span><span class="token operator">&lt;</span>Button onClick<span class="token operator">=</span>{onAdd}<span class="token operator">></span>新增一行<span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>Col<span class="token operator">></span>\n      <span class="token operator">&lt;</span><span class="token operator">/</span>Row<span class="token operator">></span>\n      <span class="token operator">&lt;</span>Form form<span class="token operator">=</span>{tableForm}<span class="token operator">></span>\n        <span class="token operator">&lt;</span>EditableTable\n          columns<span class="token operator">=</span>{columns}\n          dataSource<span class="token operator">=</span>{dataSource}\n          name<span class="token operator">=</span><span class="token string">""</span>\n          rowData<span class="token operator">=</span>{rowData}\n          setData<span class="token operator">=</span>{setDataSource}\n          form<span class="token operator">=</span>{tableForm}\n        <span class="token operator">/</span><span class="token operator">></span>\n      <span class="token operator">&lt;</span><span class="token operator">/</span>Form<span class="token operator">></span>\n    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n}\n\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>\n    <span class="token operator">&lt;</span>Demo <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>\n    mountNode\n<span class="token punctuation">)</span>'}],highlightedCodes:{tsx:'<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> XForm <span class="token keyword">as</span> XFormComponent<span class="token punctuation">,</span> IFormItem <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'../../x-form\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> Form<span class="token punctuation">,</span> Row<span class="token punctuation">,</span> Col<span class="token punctuation">,</span> Button<span class="token punctuation">,</span> Input<span class="token punctuation">,</span> Select<span class="token punctuation">,</span> DatePicker <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'knowdesign\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> EditableTable <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'knowdesign\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> moment <span class="token keyword">from</span> <span class="token string">\'moment\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">interface</span> <span class="token class-name">ITableData</span> <span class="token punctuation">{</span>\n  id<span class="token operator">:</span> string<span class="token punctuation">;</span>\n  edit<span class="token operator">?</span><span class="token operator">:</span> boolean<span class="token punctuation">;</span>\n  <span class="token punctuation">[</span>key<span class="token operator">:</span> string<span class="token punctuation">]</span><span class="token operator">:</span> any<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">interface</span> <span class="token class-name">IEditRenderNode</span> <span class="token punctuation">{</span>\n  <span class="token punctuation">(</span>text<span class="token operator">?</span><span class="token operator">:</span> any<span class="token punctuation">,</span> record<span class="token operator">?</span><span class="token operator">:</span> ITableData<span class="token punctuation">)</span><span class="token operator">:</span> any<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">[</span>\n  <span class="token punctuation">{</span>\n    id<span class="token operator">:</span> <span class="token number">11113213211</span><span class="token punctuation">,</span>\n    title<span class="token operator">:</span> <span class="token string">\'1\'</span><span class="token punctuation">,</span>\n    desc<span class="token operator">:</span> <span class="token string">\'这是描述\'</span><span class="token punctuation">,</span>\n    state<span class="token operator">:</span> <span class="token string">\'open\'</span><span class="token punctuation">,</span>\n    created_at<span class="token operator">:</span> <span class="token string">\'2021-10-08\'</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span>\n    id<span class="token operator">:</span> <span class="token number">11113223211</span><span class="token punctuation">,</span>\n    title<span class="token operator">:</span> <span class="token string">\'1\'</span><span class="token punctuation">,</span>\n    desc<span class="token operator">:</span> <span class="token string">\'描述哈哈哈\'</span><span class="token punctuation">,</span>\n    state<span class="token operator">:</span> <span class="token string">\'all\'</span><span class="token punctuation">,</span>\n    created_at<span class="token operator">:</span> <span class="token string">\'2021-10-08\'</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">]</span>\n\n<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">IsEdit</span> <span class="token operator">=</span> <span class="token punctuation">(</span>_text<span class="token operator">:</span> any<span class="token punctuation">,</span> record<span class="token operator">:</span> ITableData<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>noEditRenderNode<span class="token operator">:</span> IEditRenderNode<span class="token punctuation">,</span> editRenderNode<span class="token operator">:</span> IEditRenderNode<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>record<span class="token operator">?.</span>edit<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token function">editRenderNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">return</span> <span class="token function">noEditRenderNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">const</span> columns <span class="token operator">=</span> <span class="token punctuation">[</span>\n  <span class="token punctuation">{</span>\n    dataIndex<span class="token operator">:</span> <span class="token string">\'title\'</span><span class="token punctuation">,</span>\n    title<span class="token operator">:</span> <span class="token string">\'活动名称\'</span><span class="token punctuation">,</span>\n    key<span class="token operator">:</span> <span class="token string">\'title\'</span><span class="token punctuation">,</span>\n    <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span>text<span class="token punctuation">,</span> record<span class="token punctuation">)</span> <span class="token operator">=></span>\n      <span class="token function">IsEdit</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> record<span class="token punctuation">)</span><span class="token punctuation">(</span>\n        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> text<span class="token punctuation">,</span>\n        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n          <span class="token keyword">return</span> <span class="token punctuation">(</span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>\n              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.Item</span></span>\n                <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">tpl-table-formitem</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span>\n                <span class="token attr-name">name</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">\'title\'</span><span class="token punctuation">}</span></span>\n                <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">\'title\'</span><span class="token punctuation">}</span></span>\n                <span class="token comment">// label={formItem.label}</span>\n                <span class="token attr-name">rules</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token punctuation">{</span> required<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> message<span class="token operator">:</span> <span class="token string">\'\'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>\n                <span class="token comment">// valuePropName={}</span>\n              <span class="token punctuation">></span></span>\n                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span></span><span class="token punctuation">/></span></span>\n              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form.Item</span></span><span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n          <span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span>\n    dataIndex<span class="token operator">:</span> <span class="token string">\'state\'</span><span class="token punctuation">,</span>\n    title<span class="token operator">:</span> <span class="token string">\'状态\'</span><span class="token punctuation">,</span>\n    key<span class="token operator">:</span> <span class="token string">\'state\'</span><span class="token punctuation">,</span>\n    <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span>text<span class="token punctuation">,</span> record<span class="token punctuation">)</span> <span class="token operator">=></span>\n      <span class="token function">IsEdit</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> record<span class="token punctuation">)</span><span class="token punctuation">(</span>\n        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>text <span class="token operator">===</span> <span class="token string">\'all\'</span> <span class="token operator">?</span> <span class="token string">\'全部\'</span> <span class="token operator">:</span> <span class="token string">\'未解决\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n          <span class="token keyword">return</span> <span class="token punctuation">(</span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>\n              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.Item</span></span>\n                <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">tpl-table-formitem</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span>\n                <span class="token attr-name">name</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">\'state\'</span><span class="token punctuation">}</span></span>\n                <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">\'state\'</span><span class="token punctuation">}</span></span>\n                <span class="token attr-name">rules</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token punctuation">{</span> required<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> message<span class="token operator">:</span> <span class="token string">\'\'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>\n                <span class="token attr-name">initialValue</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">\'all\'</span><span class="token punctuation">}</span></span>\n              <span class="token punctuation">></span></span>\n                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Select</span></span><span class="token punctuation">></span></span>\n                  <span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token string">\'all\'</span><span class="token punctuation">,</span> <span class="token string">\'open\'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>item <span class="token operator">=></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Select.Option</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>item<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token punctuation">{</span>item<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Select.Option</span></span><span class="token punctuation">></span></span><span class="token punctuation">)</span><span class="token punctuation">}</span>\n                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Select</span></span><span class="token punctuation">></span></span>\n              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form.Item</span></span><span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n          <span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span>\n    dataIndex<span class="token operator">:</span> <span class="token string">\'desc\'</span><span class="token punctuation">,</span>\n    title<span class="token operator">:</span> <span class="token string">\'描述\'</span><span class="token punctuation">,</span>\n    key<span class="token operator">:</span> <span class="token string">\'desc\'</span><span class="token punctuation">,</span>\n    <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span>text<span class="token punctuation">,</span> record<span class="token punctuation">)</span> <span class="token operator">=></span>\n      <span class="token function">IsEdit</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> record<span class="token punctuation">)</span><span class="token punctuation">(</span>\n        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> text<span class="token punctuation">,</span>\n        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n          <span class="token keyword">return</span> <span class="token punctuation">(</span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>\n              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.Item</span></span>\n                <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">tpl-table-formitem</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span>\n                <span class="token attr-name">name</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">\'desc\'</span><span class="token punctuation">}</span></span>\n                <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">\'desc\'</span><span class="token punctuation">}</span></span>\n                <span class="token attr-name">rules</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token punctuation">{</span> required<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> message<span class="token operator">:</span> <span class="token string">\'\'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>\n                <span class="token attr-name">initialValue</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>record<span class="token punctuation">.</span>desc<span class="token punctuation">}</span></span>\n              <span class="token punctuation">></span></span>\n                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span></span><span class="token punctuation">/></span></span>\n              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form.Item</span></span><span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n          <span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span>\n    dataIndex<span class="token operator">:</span> <span class="token string">\'city\'</span><span class="token punctuation">,</span>\n    title<span class="token operator">:</span> <span class="token string">\'城市\'</span><span class="token punctuation">,</span>\n    key<span class="token operator">:</span> <span class="token string">\'city\'</span><span class="token punctuation">,</span>\n    <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span>text<span class="token punctuation">,</span> record<span class="token punctuation">)</span> <span class="token operator">=></span>\n      <span class="token function">IsEdit</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> record<span class="token punctuation">)</span><span class="token punctuation">(</span>\n        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> text<span class="token punctuation">,</span>\n        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n          <span class="token keyword">return</span> <span class="token punctuation">(</span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>\n              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.Item</span></span>\n                <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">tpl-table-formitem</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span>\n                <span class="token attr-name">name</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">\'city\'</span><span class="token punctuation">}</span></span>\n                <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">\'city\'</span><span class="token punctuation">}</span></span>\n                <span class="token attr-name">rules</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token punctuation">{</span> required<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> message<span class="token operator">:</span> <span class="token string">\'\'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>\n                <span class="token attr-name">initialValue</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>record<span class="token punctuation">.</span>city<span class="token punctuation">}</span></span>\n              <span class="token punctuation">></span></span>\n                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span></span><span class="token punctuation">/></span></span>\n              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form.Item</span></span><span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n          <span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token function-variable function">Demo</span>  <span class="token operator">=</span>  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>dataSource<span class="token punctuation">,</span> setDataSource<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>form<span class="token punctuation">]</span> <span class="token operator">=</span> Form<span class="token punctuation">.</span><span class="token function">useForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>rowData<span class="token punctuation">,</span> setRowData<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>tableForm<span class="token punctuation">]</span> <span class="token operator">=</span> Form<span class="token punctuation">.</span><span class="token function">useForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> formMap <span class="token operator">=</span> <span class="token punctuation">[</span>\n    <span class="token punctuation">{</span>\n      key<span class="token operator">:</span> <span class="token string">"title"</span><span class="token punctuation">,</span>\n      label<span class="token operator">:</span> <span class="token string">"活动名称"</span><span class="token punctuation">,</span>\n      type<span class="token operator">:</span> <span class="token string">"input"</span><span class="token punctuation">,</span>\n      placeholder<span class="token operator">:</span> <span class="token string">"请选择"</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">{</span>\n      key<span class="token operator">:</span> <span class="token string">"state"</span><span class="token punctuation">,</span>\n      label<span class="token operator">:</span> <span class="token string">"状态"</span><span class="token punctuation">,</span>\n      type<span class="token operator">:</span> <span class="token string">"select"</span><span class="token punctuation">,</span>\n      options<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>value<span class="token operator">:</span> <span class="token string">\'all\'</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">\'全部\'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>value<span class="token operator">:</span> <span class="token string">\'open\'</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">\'未解决\'</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n      placeholder<span class="token operator">:</span> <span class="token string">"请选择"</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">{</span>\n      key<span class="token operator">:</span> <span class="token string">"desc"</span><span class="token punctuation">,</span>\n      label<span class="token operator">:</span> <span class="token string">"描述"</span><span class="token punctuation">,</span>\n      type<span class="token operator">:</span> <span class="token string">"input"</span><span class="token punctuation">,</span>\n      placeholder<span class="token operator">:</span> <span class="token string">"请输入"</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">{</span>\n      key<span class="token operator">:</span> <span class="token string">"city"</span><span class="token punctuation">,</span>\n      label<span class="token operator">:</span> <span class="token string">"城市"</span><span class="token punctuation">,</span>\n      type<span class="token operator">:</span> <span class="token string">"input"</span><span class="token punctuation">,</span>\n      placeholder<span class="token operator">:</span> <span class="token string">"请输入"</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">]</span> <span class="token keyword">as</span> unknown <span class="token keyword">as</span> IFormItem<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> <span class="token function-variable function">onAdd</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token keyword">await</span> form<span class="token punctuation">.</span><span class="token function">getFieldsValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    value<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1000000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>\n    <span class="token function">setRowData</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> marginTop<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> background<span class="token operator">:</span> <span class="token string">\'#fff\'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Row</span></span> <span class="token attr-name">gutter</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">10</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Col</span></span> <span class="token attr-name">span</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">20</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">XFormComponent</span></span> <span class="token attr-name">formMap</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>formMap<span class="token punctuation">}</span></span> <span class="token attr-name">form</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>form<span class="token punctuation">}</span></span> <span class="token attr-name">formData</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span> <span class="token attr-name">formItemColSpan</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">6</span><span class="token punctuation">}</span></span> <span class="token attr-name">formLayout</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>\n            labelCol<span class="token operator">:</span> <span class="token punctuation">{</span> span<span class="token operator">:</span> <span class="token number">8</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n            wrapperCol<span class="token operator">:</span> <span class="token punctuation">{</span> span<span class="token operator">:</span> <span class="token number">16</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n          <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">/></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Col</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Col</span></span> <span class="token attr-name">span</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token operator">&lt;</span>Button onClick<span class="token operator">=</span><span class="token punctuation">{</span>onAdd<span class="token punctuation">}</span><span class="token operator">></span>新增一行<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Col</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Row</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form</span></span> <span class="token attr-name">form</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>tableForm<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">EditableTable</span></span>\n          <span class="token attr-name">columns</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>columns<span class="token punctuation">}</span></span>\n          <span class="token attr-name">dataSource</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>dataSource<span class="token punctuation">}</span></span>\n          <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span>\n          <span class="token attr-name">rowData</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>rowData<span class="token punctuation">}</span></span>\n          <span class="token attr-name">setData</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>setDataSource<span class="token punctuation">}</span></span>\n          <span class="token attr-name">form</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>tableForm<span class="token punctuation">}</span></span>\n        <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token punctuation">}</span>\n\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Demo</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span>\n    mountNode\n<span class="token punctuation">)</span>',jsx:'<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> XForm <span class="token keyword">as</span> XFormComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'../../x-form\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> Form<span class="token punctuation">,</span> Row<span class="token punctuation">,</span> Col<span class="token punctuation">,</span> Button<span class="token punctuation">,</span> Input<span class="token punctuation">,</span> Select <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'knowdesign\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> EditableTable <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'knowdesign\'</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">[</span>\n  <span class="token punctuation">{</span>\n    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">11113213211</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">\'1\'</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">desc</span><span class="token operator">:</span> <span class="token string">\'这是描述\'</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token string">\'open\'</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">created_at</span><span class="token operator">:</span> <span class="token string">\'2021-10-08\'</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span>\n    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">11113223211</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">\'1\'</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">desc</span><span class="token operator">:</span> <span class="token string">\'描述哈哈哈\'</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token string">\'all\'</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">created_at</span><span class="token operator">:</span> <span class="token string">\'2021-10-08\'</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">IsEdit</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">_text<span class="token punctuation">,</span> record</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter">noEditRenderNode<span class="token punctuation">,</span> editRenderNode</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>record<span class="token operator">?.</span>edit<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token function">editRenderNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">return</span> <span class="token function">noEditRenderNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token keyword">export</span> <span class="token keyword">const</span> columns <span class="token operator">=</span> <span class="token punctuation">[</span>\n  <span class="token punctuation">{</span>\n    <span class="token literal-property property">dataIndex</span><span class="token operator">:</span> <span class="token string">\'title\'</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">\'活动名称\'</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">\'title\'</span><span class="token punctuation">,</span>\n    <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">text<span class="token punctuation">,</span> record</span><span class="token punctuation">)</span> <span class="token operator">=></span>\n      <span class="token function">IsEdit</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> record<span class="token punctuation">)</span><span class="token punctuation">(</span>\n        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> text<span class="token punctuation">,</span>\n        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n          <span class="token keyword">return</span> <span class="token punctuation">(</span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>\n              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.Item</span></span>\n                <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">tpl-table-formitem</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span>\n                <span class="token attr-name">name</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">\'title\'</span><span class="token punctuation">}</span></span>\n                <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">\'title\'</span><span class="token punctuation">}</span></span> <span class="token comment">// label={formItem.label}</span>\n                <span class="token attr-name">rules</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>\n                  <span class="token punctuation">{</span>\n                    <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n                    <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">\'\'</span><span class="token punctuation">,</span>\n                  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n                <span class="token punctuation">]</span><span class="token punctuation">}</span></span> <span class="token comment">// valuePropName={}</span>\n              <span class="token punctuation">></span></span>\n                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span></span> <span class="token punctuation">/></span></span>\n              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form.Item</span></span><span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n          <span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span>\n    <span class="token literal-property property">dataIndex</span><span class="token operator">:</span> <span class="token string">\'state\'</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">\'状态\'</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">\'state\'</span><span class="token punctuation">,</span>\n    <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">text<span class="token punctuation">,</span> record</span><span class="token punctuation">)</span> <span class="token operator">=></span>\n      <span class="token function">IsEdit</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> record<span class="token punctuation">)</span><span class="token punctuation">(</span>\n        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>text <span class="token operator">===</span> <span class="token string">\'all\'</span> <span class="token operator">?</span> <span class="token string">\'全部\'</span> <span class="token operator">:</span> <span class="token string">\'未解决\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n          <span class="token keyword">return</span> <span class="token punctuation">(</span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>\n              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.Item</span></span>\n                <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">tpl-table-formitem</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span>\n                <span class="token attr-name">name</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">\'state\'</span><span class="token punctuation">}</span></span>\n                <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">\'state\'</span><span class="token punctuation">}</span></span>\n                <span class="token attr-name">rules</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>\n                  <span class="token punctuation">{</span>\n                    <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n                    <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">\'\'</span><span class="token punctuation">,</span>\n                  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n                <span class="token punctuation">]</span><span class="token punctuation">}</span></span>\n                <span class="token attr-name">initialValue</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">\'all\'</span><span class="token punctuation">}</span></span>\n              <span class="token punctuation">></span></span>\n                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Select</span></span><span class="token punctuation">></span></span>\n                  <span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token string">\'all\'</span><span class="token punctuation">,</span> <span class="token string">\'open\'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>\n                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Select.Option</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>item<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token punctuation">{</span>item<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Select.Option</span></span><span class="token punctuation">></span></span>\n                  <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>\n                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Select</span></span><span class="token punctuation">></span></span>\n              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form.Item</span></span><span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n          <span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span>\n    <span class="token literal-property property">dataIndex</span><span class="token operator">:</span> <span class="token string">\'desc\'</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">\'描述\'</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">\'desc\'</span><span class="token punctuation">,</span>\n    <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">text<span class="token punctuation">,</span> record</span><span class="token punctuation">)</span> <span class="token operator">=></span>\n      <span class="token function">IsEdit</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> record<span class="token punctuation">)</span><span class="token punctuation">(</span>\n        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> text<span class="token punctuation">,</span>\n        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n          <span class="token keyword">return</span> <span class="token punctuation">(</span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>\n              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.Item</span></span>\n                <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">tpl-table-formitem</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span>\n                <span class="token attr-name">name</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">\'desc\'</span><span class="token punctuation">}</span></span>\n                <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">\'desc\'</span><span class="token punctuation">}</span></span>\n                <span class="token attr-name">rules</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>\n                  <span class="token punctuation">{</span>\n                    <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n                    <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">\'\'</span><span class="token punctuation">,</span>\n                  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n                <span class="token punctuation">]</span><span class="token punctuation">}</span></span>\n                <span class="token attr-name">initialValue</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>record<span class="token punctuation">.</span>desc<span class="token punctuation">}</span></span>\n              <span class="token punctuation">></span></span>\n                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span></span> <span class="token punctuation">/></span></span>\n              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form.Item</span></span><span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n          <span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span>\n    <span class="token literal-property property">dataIndex</span><span class="token operator">:</span> <span class="token string">\'city\'</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">\'城市\'</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">\'city\'</span><span class="token punctuation">,</span>\n    <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">text<span class="token punctuation">,</span> record</span><span class="token punctuation">)</span> <span class="token operator">=></span>\n      <span class="token function">IsEdit</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> record<span class="token punctuation">)</span><span class="token punctuation">(</span>\n        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> text<span class="token punctuation">,</span>\n        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n          <span class="token keyword">return</span> <span class="token punctuation">(</span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>\n              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.Item</span></span>\n                <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">tpl-table-formitem</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span>\n                <span class="token attr-name">name</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">\'city\'</span><span class="token punctuation">}</span></span>\n                <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">\'city\'</span><span class="token punctuation">}</span></span>\n                <span class="token attr-name">rules</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>\n                  <span class="token punctuation">{</span>\n                    <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n                    <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">\'\'</span><span class="token punctuation">,</span>\n                  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n                <span class="token punctuation">]</span><span class="token punctuation">}</span></span>\n                <span class="token attr-name">initialValue</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>record<span class="token punctuation">.</span>city<span class="token punctuation">}</span></span>\n              <span class="token punctuation">></span></span>\n                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span></span> <span class="token punctuation">/></span></span>\n              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form.Item</span></span><span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n          <span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token function-variable function">Demo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>dataSource<span class="token punctuation">,</span> setDataSource<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>form<span class="token punctuation">]</span> <span class="token operator">=</span> Form<span class="token punctuation">.</span><span class="token function">useForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>rowData<span class="token punctuation">,</span> setRowData<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>tableForm<span class="token punctuation">]</span> <span class="token operator">=</span> Form<span class="token punctuation">.</span><span class="token function">useForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> formMap <span class="token operator">=</span> <span class="token punctuation">[</span>\n    <span class="token punctuation">{</span>\n      <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">\'title\'</span><span class="token punctuation">,</span>\n      <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">\'活动名称\'</span><span class="token punctuation">,</span>\n      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">\'input\'</span><span class="token punctuation">,</span>\n      <span class="token literal-property property">placeholder</span><span class="token operator">:</span> <span class="token string">\'请选择\'</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">{</span>\n      <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">\'state\'</span><span class="token punctuation">,</span>\n      <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">\'状态\'</span><span class="token punctuation">,</span>\n      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">\'select\'</span><span class="token punctuation">,</span>\n      <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n        <span class="token punctuation">{</span>\n          <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">\'all\'</span><span class="token punctuation">,</span>\n          <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">\'全部\'</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n        <span class="token punctuation">{</span>\n          <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">\'open\'</span><span class="token punctuation">,</span>\n          <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">\'未解决\'</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">]</span><span class="token punctuation">,</span>\n      <span class="token literal-property property">placeholder</span><span class="token operator">:</span> <span class="token string">\'请选择\'</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">{</span>\n      <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">\'desc\'</span><span class="token punctuation">,</span>\n      <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">\'描述\'</span><span class="token punctuation">,</span>\n      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">\'input\'</span><span class="token punctuation">,</span>\n      <span class="token literal-property property">placeholder</span><span class="token operator">:</span> <span class="token string">\'请输入\'</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">{</span>\n      <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">\'city\'</span><span class="token punctuation">,</span>\n      <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">\'城市\'</span><span class="token punctuation">,</span>\n      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">\'input\'</span><span class="token punctuation">,</span>\n      <span class="token literal-property property">placeholder</span><span class="token operator">:</span> <span class="token string">\'请输入\'</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> <span class="token function-variable function">onAdd</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token keyword">await</span> form<span class="token punctuation">.</span><span class="token function">getFieldsValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    value<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1000000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token function">setRowData</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>\n        <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>\n          <span class="token literal-property property">marginTop</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>\n          <span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token string">\'#fff\'</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n      <span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Row</span></span> <span class="token attr-name">gutter</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">10</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Col</span></span> <span class="token attr-name">span</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">20</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">XFormComponent</span></span>\n              <span class="token attr-name">formMap</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>formMap<span class="token punctuation">}</span></span>\n              <span class="token attr-name">form</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>form<span class="token punctuation">}</span></span>\n              <span class="token attr-name">formData</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>\n              <span class="token attr-name">formItemColSpan</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">6</span><span class="token punctuation">}</span></span>\n              <span class="token attr-name">formLayout</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>\n                <span class="token literal-property property">labelCol</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n                  <span class="token literal-property property">span</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>\n                <span class="token punctuation">}</span><span class="token punctuation">,</span>\n                <span class="token literal-property property">wrapperCol</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n                  <span class="token literal-property property">span</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>\n                <span class="token punctuation">}</span><span class="token punctuation">,</span>\n              <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n            <span class="token punctuation">/></span></span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Col</span></span><span class="token punctuation">></span></span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Col</span></span> <span class="token attr-name">span</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onAdd<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>新增一行<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Col</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Row</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form</span></span> <span class="token attr-name">form</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>tableForm<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">EditableTable</span></span>\n            <span class="token attr-name">columns</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>columns<span class="token punctuation">}</span></span>\n            <span class="token attr-name">dataSource</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>dataSource<span class="token punctuation">}</span></span>\n            <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span>\n            <span class="token attr-name">rowData</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>rowData<span class="token punctuation">}</span></span>\n            <span class="token attr-name">setData</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>setDataSource<span class="token punctuation">}</span></span>\n            <span class="token attr-name">form</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>tableForm<span class="token punctuation">}</span></span>\n          <span class="token punctuation">/></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Demo</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span> mountNode<span class="token punctuation">)</span><span class="token punctuation">;</span>\n'},preview:function(){a(0),a(35);function n(s){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(s)}Object.defineProperty(s,"__esModule",{value:!0}),s.columns=s.IsEdit=void 0;var t=function(s,a){if(!a&&s&&s.__esModule)return s;if(null===s||"object"!==n(s)&&"function"!=typeof s)return{default:s};var t=e(a);if(t&&t.has(s))return t.get(s);var p={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in s)if("default"!==c&&Object.prototype.hasOwnProperty.call(s,c)){var l=o?Object.getOwnPropertyDescriptor(s,c):null;l&&(l.get||l.set)?Object.defineProperty(p,c,l):p[c]=s[c]}p.default=s,t&&t.set(s,p);return p}(a(0)),p=a(324),o=a(96);function e(n){if("function"!=typeof WeakMap)return null;var s=new WeakMap,a=new WeakMap;return(e=function(n){return n?a:s})(n)}function c(n,s,a,t,p,o,e){try{var c=n[o](e),l=c.value}catch(n){return void a(n)}c.done?s(l):Promise.resolve(l).then(t,p)}function l(n,s){return function(n){if(Array.isArray(n))return n}(n)||function(n,s){var a=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null==a)return;var t,p,o=[],e=!0,c=!1;try{for(a=a.call(n);!(e=(t=a.next()).done)&&(o.push(t.value),!s||o.length!==s);e=!0);}catch(n){c=!0,p=n}finally{try{e||null==a.return||a.return()}finally{if(c)throw p}}return o}(n,s)||function(n,s){if(!n)return;if("string"==typeof n)return u(n,s);var a=Object.prototype.toString.call(n).slice(8,-1);"Object"===a&&n.constructor&&(a=n.constructor.name);if("Map"===a||"Set"===a)return Array.from(n);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(n,s)}(n,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(n,s){(null==s||s>n.length)&&(s=n.length);for(var a=0,t=new Array(s);a<s;a++)t[a]=n[a];return t}var k=[{id:11113213211,title:"1",desc:"这是描述",state:"open",created_at:"2021-10-08"},{id:11113223211,title:"1",desc:"描述哈哈哈",state:"all",created_at:"2021-10-08"}],r=function(n,s){return function(n,a){return null!=s&&s.edit?a():n()}};s.IsEdit=r;var i=[{dataIndex:"title",title:"活动名称",key:"title",render:function(n,s){return r(0,s)((function(){return n}),(function(){return t.default.createElement("div",null,t.default.createElement(o.Form.Item,{className:"tpl-table-formitem",name:"title",key:"title",rules:[{required:!1,message:""}]},t.default.createElement(o.Input,null)))}))}},{dataIndex:"state",title:"状态",key:"state",render:function(n,s){return r(0,s)((function(){return"all"===n?"全部":"未解决"}),(function(){return t.default.createElement("div",null,t.default.createElement(o.Form.Item,{className:"tpl-table-formitem",name:"state",key:"state",rules:[{required:!1,message:""}],initialValue:"all"},t.default.createElement(o.Select,null,["all","open"].map((function(n){return t.default.createElement(o.Select.Option,{value:n},n)})))))}))}},{dataIndex:"desc",title:"描述",key:"desc",render:function(n,s){return r(0,s)((function(){return n}),(function(){return t.default.createElement("div",null,t.default.createElement(o.Form.Item,{className:"tpl-table-formitem",name:"desc",key:"desc",rules:[{required:!1,message:""}],initialValue:s.desc},t.default.createElement(o.Input,null)))}))}},{dataIndex:"city",title:"城市",key:"city",render:function(n,s){return r(0,s)((function(){return n}),(function(){return t.default.createElement("div",null,t.default.createElement(o.Form.Item,{className:"tpl-table-formitem",name:"city",key:"city",rules:[{required:!1,message:""}],initialValue:s.city},t.default.createElement(o.Input,null)))}))}}];s.columns=i;var m=function(){var n=l((0,t.useState)(k),2),s=n[0],a=n[1],e=l(o.Form.useForm(),1)[0],u=l((0,t.useState)({}),2),r=u[0],m=u[1],g=l(o.Form.useForm(),1)[0],d=function(){var n,s=(n=regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.getFieldsValue();case 2:(s=n.sent).id=(1e6*Math.random()).toFixed(0),m(s);case 5:case"end":return n.stop()}}),n)})),function(){var s=this,a=arguments;return new Promise((function(t,p){var o=n.apply(s,a);function e(n){c(o,t,p,e,l,"next",n)}function l(n){c(o,t,p,e,l,"throw",n)}e(void 0)}))});return function(){return s.apply(this,arguments)}}();return t.default.createElement("div",null,t.default.createElement("div",{style:{marginTop:20,background:"#fff"}},t.default.createElement(o.Row,{gutter:10},t.default.createElement(o.Col,{span:20},t.default.createElement(p.XForm,{formMap:[{key:"title",label:"活动名称",type:"input",placeholder:"请选择"},{key:"state",label:"状态",type:"select",options:[{value:"all",label:"全部"},{value:"open",label:"未解决"}],placeholder:"请选择"},{key:"desc",label:"描述",type:"input",placeholder:"请输入"},{key:"city",label:"城市",type:"input",placeholder:"请输入"}],form:e,formData:[],formItemColSpan:6,formLayout:{labelCol:{span:8},wrapperCol:{span:16}}})),t.default.createElement(o.Col,{span:4},t.default.createElement(o.Button,{onClick:d},"新增一行"))),t.default.createElement(o.Form,{form:g},t.default.createElement(o.EditableTable,{columns:i,dataSource:s,name:"",rowData:r,setData:a,form:g}))))};return t.default.createElement(m,null)}}}}]);