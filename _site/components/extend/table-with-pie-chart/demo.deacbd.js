(window.webpackJsonp=window.webpackJsonp||[]).push([[195],{4176:function(n,a,s){n.exports={base:s(5260)}},5260:function(n,a,s){n.exports={content:[],meta:{order:0,title:"基本",filename:"components/extend/table-with-pie-chart/demo/base.md",id:"components-extend-table-with-pie-chart-demo-base"},toc:["ul"],highlightedCode:["pre",{lang:"tsx",highlighted:'import React<span class="token punctuation">,</span> { useState<span class="token punctuation">,</span> useEffect } from <span class="token string">"react"</span><span class="token comment" spellcheck="true">;</span>\nimport { TableWithPieChart } from <span class="token string">"knowdesign"</span><span class="token comment" spellcheck="true">;</span>\n\n<span class="token keyword">const</span> Demo <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> {\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>tableData<span class="token punctuation">,</span> setTableData<span class="token punctuation">]</span> <span class="token operator">=</span> useState<span class="token operator">&lt;</span>any<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>chartData<span class="token punctuation">,</span> setChartData<span class="token punctuation">]</span> <span class="token operator">=</span> useState<span class="token operator">&lt;</span>any<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>tableLoading<span class="token punctuation">,</span> setTableLoading<span class="token punctuation">]</span> <span class="token operator">=</span> useState<span class="token operator">&lt;</span>boolean<span class="token operator">></span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>chartLoading<span class="token punctuation">,</span> setChartLoading<span class="token punctuation">]</span> <span class="token operator">=</span> useState<span class="token operator">&lt;</span>boolean<span class="token operator">></span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>pagination<span class="token punctuation">,</span> setPagination<span class="token punctuation">]</span> <span class="token operator">=</span> useState<span class="token operator">&lt;</span>any<span class="token operator">></span><span class="token punctuation">(</span>{\n    current<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n    pageSize<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>\n    total<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>\n    showQuickJumper<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n    showSizeChanger<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n    pageSizeOptions<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"10"</span><span class="token punctuation">,</span> <span class="token string">"20"</span><span class="token punctuation">,</span> <span class="token string">"50"</span><span class="token punctuation">,</span> <span class="token string">"100"</span><span class="token punctuation">,</span> <span class="token string">"200"</span><span class="token punctuation">,</span> <span class="token string">"500"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    showTotal<span class="token punctuation">:</span> <span class="token punctuation">(</span>total<span class="token punctuation">:</span> number<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> `共 ${total} 条`<span class="token punctuation">,</span>\n  }<span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>hightLightItem<span class="token punctuation">,</span> setHightLightItem<span class="token punctuation">]</span> <span class="token operator">=</span> useState<span class="token operator">&lt;</span>any<span class="token operator">></span><span class="token punctuation">(</span>{\n    name<span class="token punctuation">:</span> <span class="token string">"&lt;10%"</span><span class="token punctuation">,</span>\n  }<span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n\n  <span class="token keyword">const</span> getChartHighlightIndex <span class="token operator">=</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> {\n    return data <span class="token operator">&amp;</span><span class="token operator">&amp;</span> data<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> item<span class="token punctuation">.</span>highlight<span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n  }<span class="token comment" spellcheck="true">;</span>\n\n  <span class="token keyword">const</span> queryTableData <span class="token operator">=</span> <span class="token punctuation">(</span>params<span class="token punctuation">:</span> any<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> {\n    return new <span class="token function">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> {\n      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> {\n        <span class="token function">resolve</span><span class="token punctuation">(</span>{\n          pagination<span class="token punctuation">:</span> {\n            pageNo<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n            paheSize<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>\n            total<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>\n          }<span class="token punctuation">,</span>\n          bizData<span class="token punctuation">:</span> <span class="token punctuation">[</span>\n            {\n              id<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n              name<span class="token punctuation">:</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n              name1<span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>\n              name2<span class="token punctuation">:</span> <span class="token string">"阿苏菲玛索；方面"</span><span class="token punctuation">,</span>\n              name3<span class="token punctuation">:</span> <span class="token string">"对方水电费"</span><span class="token punctuation">,</span>\n              name4<span class="token punctuation">:</span> <span class="token string">"f是否的水电费水电费"</span><span class="token punctuation">,</span>\n            }<span class="token punctuation">,</span>\n            {\n              id<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>\n              name<span class="token punctuation">:</span> <span class="token string">"集群002"</span><span class="token punctuation">,</span>\n              name1<span class="token punctuation">:</span> <span class="token string">"asdasda"</span><span class="token punctuation">,</span>\n              name2<span class="token punctuation">:</span> <span class="token string">"阿斯达撒所大所多"</span><span class="token punctuation">,</span>\n              name3<span class="token punctuation">:</span> <span class="token string">"对方水电费"</span><span class="token punctuation">,</span>\n              name4<span class="token punctuation">:</span> <span class="token string">"f是否的水电费水电费"</span><span class="token punctuation">,</span>\n            }<span class="token punctuation">,</span>\n            {\n              id<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>\n              name<span class="token punctuation">:</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n              name1<span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>\n              name2<span class="token punctuation">:</span> <span class="token string">"阿苏菲玛索；方面"</span><span class="token punctuation">,</span>\n              name3<span class="token punctuation">:</span> <span class="token string">"对方水电费"</span><span class="token punctuation">,</span>\n              name4<span class="token punctuation">:</span> <span class="token string">"f是否的水电费水电费"</span><span class="token punctuation">,</span>\n            }<span class="token punctuation">,</span>\n            {\n              id<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span>\n              name<span class="token punctuation">:</span> <span class="token string">"集群003"</span><span class="token punctuation">,</span>\n              name1<span class="token punctuation">:</span> <span class="token string">"asdasda"</span><span class="token punctuation">,</span>\n              name2<span class="token punctuation">:</span> <span class="token string">"阿斯达撒所大所多"</span><span class="token punctuation">,</span>\n              name3<span class="token punctuation">:</span> <span class="token string">"对方水电费"</span><span class="token punctuation">,</span>\n              name4<span class="token punctuation">:</span> <span class="token string">"f是否的水电费水电费"</span><span class="token punctuation">,</span>\n            }<span class="token punctuation">,</span>\n          <span class="token punctuation">]</span><span class="token punctuation">,</span>\n        }<span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n      }<span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n    }<span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n  }<span class="token comment" spellcheck="true">;</span>\n\n  <span class="token keyword">const</span> queryChartData <span class="token operator">=</span> <span class="token punctuation">(</span>params<span class="token punctuation">:</span> any<span class="token punctuation">)</span><span class="token punctuation">:</span> any <span class="token operator">=</span><span class="token operator">></span> {\n    return new <span class="token function">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> {\n      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> {\n        <span class="token function">resolve</span><span class="token punctuation">(</span>{\n          data<span class="token punctuation">:</span> <span class="token punctuation">[</span>\n            {\n              value<span class="token punctuation">:</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n              highlight<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n              name<span class="token punctuation">:</span> <span class="token string">"可用存储量&lt;10%"</span><span class="token punctuation">,</span>\n            }<span class="token punctuation">,</span>\n            {\n              value<span class="token punctuation">:</span> <span class="token number">735</span><span class="token punctuation">,</span>\n              name<span class="token punctuation">:</span> <span class="token string">"可用存储量>50%"</span><span class="token punctuation">,</span>\n            }<span class="token punctuation">,</span>\n            {\n              value<span class="token punctuation">:</span> <span class="token number">580</span><span class="token punctuation">,</span>\n              name<span class="token punctuation">:</span> <span class="token string">"可用存储量：30%-40%"</span><span class="token punctuation">,</span>\n            }<span class="token punctuation">,</span>\n            {\n              value<span class="token punctuation">:</span> <span class="token number">484</span><span class="token punctuation">,</span>\n              name<span class="token punctuation">:</span> <span class="token string">"可用存储量：20%-30%"</span><span class="token punctuation">,</span>\n            }<span class="token punctuation">,</span>\n            {\n              value<span class="token punctuation">:</span> <span class="token number">300</span><span class="token punctuation">,</span>\n              name<span class="token punctuation">:</span> <span class="token string">"可用存储量：10%-20%"</span><span class="token punctuation">,</span>\n            }<span class="token punctuation">,</span>\n          <span class="token punctuation">]</span><span class="token punctuation">,</span>\n        }<span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n      }<span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n    }<span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n  }<span class="token comment" spellcheck="true">;</span>\n\n  <span class="token keyword">const</span> getTableData <span class="token operator">=</span> async <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> {\n    <span class="token keyword">const</span> { current<span class="token punctuation">:</span> pageNo<span class="token punctuation">,</span> pageSize } <span class="token operator">=</span> pagination<span class="token comment" spellcheck="true">;</span>\n    <span class="token keyword">const</span> params <span class="token operator">=</span> {\n      pageNo<span class="token punctuation">,</span>\n      pageSize<span class="token punctuation">,</span>\n      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>hightLightItem<span class="token punctuation">,</span>\n    }<span class="token comment" spellcheck="true">;</span>\n    <span class="token function">setTableLoading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>\n    <span class="token keyword">const</span> data <span class="token operator">=</span> await <span class="token function">queryTableData</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n    <span class="token function">setTableLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>\n    <span class="token function">setTableData</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n  }<span class="token comment" spellcheck="true">;</span>\n\n  <span class="token keyword">const</span> getChartData <span class="token operator">=</span> async <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> {\n    <span class="token keyword">const</span> params <span class="token operator">=</span> {\n      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>hightLightItem<span class="token punctuation">,</span>\n    }<span class="token comment" spellcheck="true">;</span>\n    <span class="token function">setChartLoading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n    <span class="token keyword">const</span> { data } <span class="token operator">=</span> await <span class="token function">queryChartData</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n    <span class="token function">setChartLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n    <span class="token function">setChartData</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n  }<span class="token comment" spellcheck="true">;</span>\n\n  <span class="token keyword">const</span> tableProps <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> {\n    return {\n      columns<span class="token punctuation">:</span> <span class="token punctuation">[</span>\n        {\n          dataIndex<span class="token punctuation">:</span> <span class="token string">"name"</span><span class="token punctuation">,</span>\n          title<span class="token punctuation">:</span> <span class="token string">"集群名称"</span><span class="token punctuation">,</span>\n        }<span class="token punctuation">,</span>\n        {\n          dataIndex<span class="token punctuation">:</span> <span class="token string">"name1"</span><span class="token punctuation">,</span>\n          title<span class="token punctuation">:</span> <span class="token string">"存储容量（GB）"</span><span class="token punctuation">,</span>\n          width<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span>\n        }<span class="token punctuation">,</span>\n        {\n          dataIndex<span class="token punctuation">:</span> <span class="token string">"name2"</span><span class="token punctuation">,</span>\n          title<span class="token punctuation">:</span> <span class="token string">"实际存储量"</span><span class="token punctuation">,</span>\n        }<span class="token punctuation">,</span>\n        {\n          dataIndex<span class="token punctuation">:</span> <span class="token string">"name3"</span><span class="token punctuation">,</span>\n          title<span class="token punctuation">:</span> <span class="token string">"预留存储量"</span><span class="token punctuation">,</span>\n        }<span class="token punctuation">,</span>\n        {\n          dataIndex<span class="token punctuation">:</span> <span class="token string">"name4"</span><span class="token punctuation">,</span>\n          title<span class="token punctuation">:</span> <span class="token string">"可用存储量"</span><span class="token punctuation">,</span>\n        }<span class="token punctuation">,</span>\n      <span class="token punctuation">]</span><span class="token punctuation">,</span>\n      showSearch<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n      attrs<span class="token punctuation">:</span> {\n        loading<span class="token punctuation">:</span> tableLoading<span class="token punctuation">,</span>\n        rowKey<span class="token punctuation">:</span> <span class="token string">"id"</span><span class="token punctuation">,</span>\n        pagination<span class="token punctuation">:</span> {\n          <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>pagination<span class="token punctuation">,</span>\n          total<span class="token punctuation">:</span> tableData<span class="token operator">?</span><span class="token punctuation">.</span>pagination<span class="token operator">?</span><span class="token punctuation">.</span>total<span class="token punctuation">,</span>\n        }<span class="token punctuation">,</span>\n        onChange<span class="token punctuation">:</span> <span class="token punctuation">(</span>pagination<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> {\n          <span class="token function">setPagination</span><span class="token punctuation">(</span>pagination<span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n        }<span class="token punctuation">,</span>\n      }<span class="token punctuation">,</span>\n    }<span class="token comment" spellcheck="true">;</span>\n  }<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n\n  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> {\n    <span class="token function">getTableData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n  }<span class="token punctuation">,</span> <span class="token punctuation">[</span>pagination<span class="token punctuation">,</span> hightLightItem<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n\n  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> {\n    <span class="token function">getChartData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n  }<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n\n  return <span class="token punctuation">(</span>\n    <span class="token operator">&lt;</span>div<span class="token operator">></span>\n      <span class="token operator">&lt;</span>TableWithPieChart\n        wrapStyle<span class="token operator">=</span>{{\n          display<span class="token punctuation">:</span> <span class="token string">"flex"</span><span class="token punctuation">,</span>\n          width<span class="token punctuation">:</span> <span class="token string">"100%"</span><span class="token punctuation">,</span>\n          height<span class="token punctuation">:</span> <span class="token number">300</span><span class="token punctuation">,</span>\n        }}\n        tableStyle<span class="token operator">=</span>{{\n          flex<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n          height<span class="token punctuation">:</span> <span class="token string">"100%"</span><span class="token punctuation">,</span>\n        }}\n        chartStyle<span class="token operator">=</span>{{\n          width<span class="token punctuation">:</span> <span class="token number">500</span><span class="token punctuation">,</span>\n          height<span class="token punctuation">:</span> <span class="token string">\'100%\'</span><span class="token punctuation">,</span>\n        }}\n        chartLoading<span class="token operator">=</span>{chartLoading}\n        hightlightIndex<span class="token operator">=</span>{<span class="token function">getChartHighlightIndex</span><span class="token punctuation">(</span>chartData<span class="token punctuation">)</span>}\n        updateHighlighItem<span class="token operator">=</span>{setHightLightItem}\n        tableProps<span class="token operator">=</span>{tableProps}\n        tableData<span class="token operator">=</span>{tableData<span class="token operator">?</span><span class="token punctuation">.</span>bizData}\n        chartProps<span class="token operator">=</span>{{\n          title<span class="token punctuation">:</span> {\n            text<span class="token punctuation">:</span> <span class="token string">"存储容量"</span><span class="token punctuation">,</span>\n          }<span class="token punctuation">,</span>\n          series<span class="token punctuation">:</span> <span class="token punctuation">[</span>\n            {\n              center<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"55%"</span><span class="token punctuation">,</span> <span class="token string">"50%"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n              radius<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n            }<span class="token punctuation">,</span>\n          <span class="token punctuation">]</span><span class="token punctuation">,</span>\n        }}\n        chartData<span class="token operator">=</span>{chartData}\n      <span class="token operator">/</span><span class="token operator">></span>\n    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n  <span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n}<span class="token comment" spellcheck="true">;</span>\n\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>\n  <span class="token operator">&lt;</span>Demo <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>\n  mountNode\n<span class="token punctuation">)</span>'}],highlightedCodes:{tsx:'<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> TableWithPieChart <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"knowdesign"</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token function-variable function">Demo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>tableData<span class="token punctuation">,</span> setTableData<span class="token punctuation">]</span> <span class="token operator">=</span> useState<span class="token operator">&lt;</span>any<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>chartData<span class="token punctuation">,</span> setChartData<span class="token punctuation">]</span> <span class="token operator">=</span> useState<span class="token operator">&lt;</span>any<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>tableLoading<span class="token punctuation">,</span> setTableLoading<span class="token punctuation">]</span> <span class="token operator">=</span> useState<span class="token operator">&lt;</span>boolean<span class="token operator">></span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>chartLoading<span class="token punctuation">,</span> setChartLoading<span class="token punctuation">]</span> <span class="token operator">=</span> useState<span class="token operator">&lt;</span>boolean<span class="token operator">></span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>pagination<span class="token punctuation">,</span> setPagination<span class="token punctuation">]</span> <span class="token operator">=</span> useState<span class="token operator">&lt;</span>any<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    current<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n    pageSize<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>\n    total<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>\n    showQuickJumper<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n    showSizeChanger<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n    pageSizeOptions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"10"</span><span class="token punctuation">,</span> <span class="token string">"20"</span><span class="token punctuation">,</span> <span class="token string">"50"</span><span class="token punctuation">,</span> <span class="token string">"100"</span><span class="token punctuation">,</span> <span class="token string">"200"</span><span class="token punctuation">,</span> <span class="token string">"500"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token function-variable function">showTotal</span><span class="token operator">:</span> <span class="token punctuation">(</span>total<span class="token operator">:</span> number<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">共 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>total<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 条</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>hightLightItem<span class="token punctuation">,</span> setHightLightItem<span class="token punctuation">]</span> <span class="token operator">=</span> useState<span class="token operator">&lt;</span>any<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    name<span class="token operator">:</span> <span class="token string">"&lt;10%"</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> <span class="token function-variable function">getChartHighlightIndex</span> <span class="token operator">=</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> data <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=></span> item<span class="token punctuation">.</span>highlight<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> <span class="token function-variable function">queryTableData</span> <span class="token operator">=</span> <span class="token punctuation">(</span>params<span class="token operator">:</span> any<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n          pagination<span class="token operator">:</span> <span class="token punctuation">{</span>\n            pageNo<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n            paheSize<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>\n            total<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>\n          <span class="token punctuation">}</span><span class="token punctuation">,</span>\n          bizData<span class="token operator">:</span> <span class="token punctuation">[</span>\n            <span class="token punctuation">{</span>\n              id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n              name<span class="token operator">:</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n              name1<span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>\n              name2<span class="token operator">:</span> <span class="token string">"阿苏菲玛索；方面"</span><span class="token punctuation">,</span>\n              name3<span class="token operator">:</span> <span class="token string">"对方水电费"</span><span class="token punctuation">,</span>\n              name4<span class="token operator">:</span> <span class="token string">"f是否的水电费水电费"</span><span class="token punctuation">,</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n            <span class="token punctuation">{</span>\n              id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>\n              name<span class="token operator">:</span> <span class="token string">"集群002"</span><span class="token punctuation">,</span>\n              name1<span class="token operator">:</span> <span class="token string">"asdasda"</span><span class="token punctuation">,</span>\n              name2<span class="token operator">:</span> <span class="token string">"阿斯达撒所大所多"</span><span class="token punctuation">,</span>\n              name3<span class="token operator">:</span> <span class="token string">"对方水电费"</span><span class="token punctuation">,</span>\n              name4<span class="token operator">:</span> <span class="token string">"f是否的水电费水电费"</span><span class="token punctuation">,</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n            <span class="token punctuation">{</span>\n              id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>\n              name<span class="token operator">:</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n              name1<span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>\n              name2<span class="token operator">:</span> <span class="token string">"阿苏菲玛索；方面"</span><span class="token punctuation">,</span>\n              name3<span class="token operator">:</span> <span class="token string">"对方水电费"</span><span class="token punctuation">,</span>\n              name4<span class="token operator">:</span> <span class="token string">"f是否的水电费水电费"</span><span class="token punctuation">,</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n            <span class="token punctuation">{</span>\n              id<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>\n              name<span class="token operator">:</span> <span class="token string">"集群003"</span><span class="token punctuation">,</span>\n              name1<span class="token operator">:</span> <span class="token string">"asdasda"</span><span class="token punctuation">,</span>\n              name2<span class="token operator">:</span> <span class="token string">"阿斯达撒所大所多"</span><span class="token punctuation">,</span>\n              name3<span class="token operator">:</span> <span class="token string">"对方水电费"</span><span class="token punctuation">,</span>\n              name4<span class="token operator">:</span> <span class="token string">"f是否的水电费水电费"</span><span class="token punctuation">,</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n          <span class="token punctuation">]</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> queryChartData <span class="token operator">=</span> <span class="token punctuation">(</span>params<span class="token operator">:</span> any<span class="token punctuation">)</span><span class="token operator">:</span> any <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n          data<span class="token operator">:</span> <span class="token punctuation">[</span>\n            <span class="token punctuation">{</span>\n              value<span class="token operator">:</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n              highlight<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n              name<span class="token operator">:</span> <span class="token string">"可用存储量&lt;10%"</span><span class="token punctuation">,</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n            <span class="token punctuation">{</span>\n              value<span class="token operator">:</span> <span class="token number">735</span><span class="token punctuation">,</span>\n              name<span class="token operator">:</span> <span class="token string">"可用存储量>50%"</span><span class="token punctuation">,</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n            <span class="token punctuation">{</span>\n              value<span class="token operator">:</span> <span class="token number">580</span><span class="token punctuation">,</span>\n              name<span class="token operator">:</span> <span class="token string">"可用存储量：30%-40%"</span><span class="token punctuation">,</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n            <span class="token punctuation">{</span>\n              value<span class="token operator">:</span> <span class="token number">484</span><span class="token punctuation">,</span>\n              name<span class="token operator">:</span> <span class="token string">"可用存储量：20%-30%"</span><span class="token punctuation">,</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n            <span class="token punctuation">{</span>\n              value<span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span>\n              name<span class="token operator">:</span> <span class="token string">"可用存储量：10%-20%"</span><span class="token punctuation">,</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n          <span class="token punctuation">]</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> <span class="token function-variable function">getTableData</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> <span class="token punctuation">{</span> current<span class="token operator">:</span> pageNo<span class="token punctuation">,</span> pageSize <span class="token punctuation">}</span> <span class="token operator">=</span> pagination<span class="token punctuation">;</span>\n    <span class="token keyword">const</span> params <span class="token operator">=</span> <span class="token punctuation">{</span>\n      pageNo<span class="token punctuation">,</span>\n      pageSize<span class="token punctuation">,</span>\n      <span class="token operator">...</span>hightLightItem<span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token function">setTableLoading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>\n    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">queryTableData</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token function">setTableLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>\n    <span class="token function">setTableData</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> <span class="token function-variable function">getChartData</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> params <span class="token operator">=</span> <span class="token punctuation">{</span>\n      <span class="token operator">...</span>hightLightItem<span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token function">setChartLoading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">queryChartData</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token function">setChartLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token function">setChartData</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> tableProps <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">{</span>\n      columns<span class="token operator">:</span> <span class="token punctuation">[</span>\n        <span class="token punctuation">{</span>\n          dataIndex<span class="token operator">:</span> <span class="token string">"name"</span><span class="token punctuation">,</span>\n          title<span class="token operator">:</span> <span class="token string">"集群名称"</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n        <span class="token punctuation">{</span>\n          dataIndex<span class="token operator">:</span> <span class="token string">"name1"</span><span class="token punctuation">,</span>\n          title<span class="token operator">:</span> <span class="token string">"存储容量（GB）"</span><span class="token punctuation">,</span>\n          width<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n        <span class="token punctuation">{</span>\n          dataIndex<span class="token operator">:</span> <span class="token string">"name2"</span><span class="token punctuation">,</span>\n          title<span class="token operator">:</span> <span class="token string">"实际存储量"</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n        <span class="token punctuation">{</span>\n          dataIndex<span class="token operator">:</span> <span class="token string">"name3"</span><span class="token punctuation">,</span>\n          title<span class="token operator">:</span> <span class="token string">"预留存储量"</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n        <span class="token punctuation">{</span>\n          dataIndex<span class="token operator">:</span> <span class="token string">"name4"</span><span class="token punctuation">,</span>\n          title<span class="token operator">:</span> <span class="token string">"可用存储量"</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">]</span><span class="token punctuation">,</span>\n      showSearch<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n      attrs<span class="token operator">:</span> <span class="token punctuation">{</span>\n        loading<span class="token operator">:</span> tableLoading<span class="token punctuation">,</span>\n        rowKey<span class="token operator">:</span> <span class="token string">"id"</span><span class="token punctuation">,</span>\n        pagination<span class="token operator">:</span> <span class="token punctuation">{</span>\n          <span class="token operator">...</span>pagination<span class="token punctuation">,</span>\n          total<span class="token operator">:</span> tableData<span class="token operator">?.</span>pagination<span class="token operator">?.</span>total<span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n        <span class="token function-variable function">onChange</span><span class="token operator">:</span> <span class="token punctuation">(</span>pagination<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n          <span class="token function">setPagination</span><span class="token punctuation">(</span>pagination<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token function">getTableData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>pagination<span class="token punctuation">,</span> hightLightItem<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token function">getChartData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TableWithPieChart</span></span>\n        <span class="token attr-name">wrapStyle</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>\n          display<span class="token operator">:</span> <span class="token string">"flex"</span><span class="token punctuation">,</span>\n          width<span class="token operator">:</span> <span class="token string">"100%"</span><span class="token punctuation">,</span>\n          height<span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n        <span class="token attr-name">tableStyle</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>\n          flex<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n          height<span class="token operator">:</span> <span class="token string">"100%"</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n        <span class="token attr-name">chartStyle</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>\n          width<span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span>\n          height<span class="token operator">:</span> <span class="token string">\'100%\'</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n        <span class="token attr-name">chartLoading</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>chartLoading<span class="token punctuation">}</span></span>\n        <span class="token attr-name">hightlightIndex</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token function">getChartHighlightIndex</span><span class="token punctuation">(</span>chartData<span class="token punctuation">)</span><span class="token punctuation">}</span></span>\n        <span class="token attr-name">updateHighlighItem</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>setHightLightItem<span class="token punctuation">}</span></span>\n        <span class="token attr-name">tableProps</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>tableProps<span class="token punctuation">}</span></span>\n        <span class="token attr-name">tableData</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>tableData<span class="token operator">?.</span>bizData<span class="token punctuation">}</span></span>\n        <span class="token attr-name">chartProps</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>\n          title<span class="token operator">:</span> <span class="token punctuation">{</span>\n            text<span class="token operator">:</span> <span class="token string">"存储容量"</span><span class="token punctuation">,</span>\n          <span class="token punctuation">}</span><span class="token punctuation">,</span>\n          series<span class="token operator">:</span> <span class="token punctuation">[</span>\n            <span class="token punctuation">{</span>\n              center<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"55%"</span><span class="token punctuation">,</span> <span class="token string">"50%"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n              radius<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n          <span class="token punctuation">]</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n        <span class="token attr-name">chartData</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>chartData<span class="token punctuation">}</span></span>\n      <span class="token punctuation">/></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Demo</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span>\n  mountNode\n<span class="token punctuation">)</span>',jsx:'<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> TableWithPieChart <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'knowdesign\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token function-variable function">Demo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>tableData<span class="token punctuation">,</span> setTableData<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>chartData<span class="token punctuation">,</span> setChartData<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>tableLoading<span class="token punctuation">,</span> setTableLoading<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>chartLoading<span class="token punctuation">,</span> setChartLoading<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>pagination<span class="token punctuation">,</span> setPagination<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token literal-property property">current</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">pageSize</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">total</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">showQuickJumper</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">showSizeChanger</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">pageSizeOptions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">\'10\'</span><span class="token punctuation">,</span> <span class="token string">\'20\'</span><span class="token punctuation">,</span> <span class="token string">\'50\'</span><span class="token punctuation">,</span> <span class="token string">\'100\'</span><span class="token punctuation">,</span> <span class="token string">\'200\'</span><span class="token punctuation">,</span> <span class="token string">\'500\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token function-variable function">showTotal</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">total</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">共 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>total<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 条</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>hightLightItem<span class="token punctuation">,</span> setHightLightItem<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">\'&lt;10%\'</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> <span class="token function-variable function">getChartHighlightIndex</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> data <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=></span> item<span class="token punctuation">.</span>highlight<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> <span class="token function-variable function">queryTableData</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n          <span class="token literal-property property">pagination</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n            <span class="token literal-property property">pageNo</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n            <span class="token literal-property property">paheSize</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>\n            <span class="token literal-property property">total</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>\n          <span class="token punctuation">}</span><span class="token punctuation">,</span>\n          <span class="token literal-property property">bizData</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n            <span class="token punctuation">{</span>\n              <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n              <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n              <span class="token literal-property property">name1</span><span class="token operator">:</span> <span class="token string">\'\'</span><span class="token punctuation">,</span>\n              <span class="token literal-property property">name2</span><span class="token operator">:</span> <span class="token string">\'阿苏菲玛索；方面\'</span><span class="token punctuation">,</span>\n              <span class="token literal-property property">name3</span><span class="token operator">:</span> <span class="token string">\'对方水电费\'</span><span class="token punctuation">,</span>\n              <span class="token literal-property property">name4</span><span class="token operator">:</span> <span class="token string">\'f是否的水电费水电费\'</span><span class="token punctuation">,</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n            <span class="token punctuation">{</span>\n              <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>\n              <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">\'集群002\'</span><span class="token punctuation">,</span>\n              <span class="token literal-property property">name1</span><span class="token operator">:</span> <span class="token string">\'asdasda\'</span><span class="token punctuation">,</span>\n              <span class="token literal-property property">name2</span><span class="token operator">:</span> <span class="token string">\'阿斯达撒所大所多\'</span><span class="token punctuation">,</span>\n              <span class="token literal-property property">name3</span><span class="token operator">:</span> <span class="token string">\'对方水电费\'</span><span class="token punctuation">,</span>\n              <span class="token literal-property property">name4</span><span class="token operator">:</span> <span class="token string">\'f是否的水电费水电费\'</span><span class="token punctuation">,</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n            <span class="token punctuation">{</span>\n              <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>\n              <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n              <span class="token literal-property property">name1</span><span class="token operator">:</span> <span class="token string">\'\'</span><span class="token punctuation">,</span>\n              <span class="token literal-property property">name2</span><span class="token operator">:</span> <span class="token string">\'阿苏菲玛索；方面\'</span><span class="token punctuation">,</span>\n              <span class="token literal-property property">name3</span><span class="token operator">:</span> <span class="token string">\'对方水电费\'</span><span class="token punctuation">,</span>\n              <span class="token literal-property property">name4</span><span class="token operator">:</span> <span class="token string">\'f是否的水电费水电费\'</span><span class="token punctuation">,</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n            <span class="token punctuation">{</span>\n              <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>\n              <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">\'集群003\'</span><span class="token punctuation">,</span>\n              <span class="token literal-property property">name1</span><span class="token operator">:</span> <span class="token string">\'asdasda\'</span><span class="token punctuation">,</span>\n              <span class="token literal-property property">name2</span><span class="token operator">:</span> <span class="token string">\'阿斯达撒所大所多\'</span><span class="token punctuation">,</span>\n              <span class="token literal-property property">name3</span><span class="token operator">:</span> <span class="token string">\'对方水电费\'</span><span class="token punctuation">,</span>\n              <span class="token literal-property property">name4</span><span class="token operator">:</span> <span class="token string">\'f是否的水电费水电费\'</span><span class="token punctuation">,</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n          <span class="token punctuation">]</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> <span class="token function-variable function">queryChartData</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n          <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n            <span class="token punctuation">{</span>\n              <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n              <span class="token literal-property property">highlight</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n              <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">\'可用存储量&lt;10%\'</span><span class="token punctuation">,</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n            <span class="token punctuation">{</span>\n              <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">735</span><span class="token punctuation">,</span>\n              <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">\'可用存储量>50%\'</span><span class="token punctuation">,</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n            <span class="token punctuation">{</span>\n              <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">580</span><span class="token punctuation">,</span>\n              <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">\'可用存储量：30%-40%\'</span><span class="token punctuation">,</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n            <span class="token punctuation">{</span>\n              <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">484</span><span class="token punctuation">,</span>\n              <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">\'可用存储量：20%-30%\'</span><span class="token punctuation">,</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n            <span class="token punctuation">{</span>\n              <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span>\n              <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">\'可用存储量：10%-20%\'</span><span class="token punctuation">,</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n          <span class="token punctuation">]</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> <span class="token function-variable function">getTableData</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token literal-property property">current</span><span class="token operator">:</span> pageNo<span class="token punctuation">,</span> pageSize <span class="token punctuation">}</span> <span class="token operator">=</span> pagination<span class="token punctuation">;</span>\n    <span class="token keyword">const</span> params <span class="token operator">=</span> <span class="token punctuation">{</span>\n      pageNo<span class="token punctuation">,</span>\n      pageSize<span class="token punctuation">,</span>\n      <span class="token operator">...</span>hightLightItem<span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token function">setTableLoading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">queryTableData</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token function">setTableLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token function">setTableData</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> <span class="token function-variable function">getChartData</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> params <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>hightLightItem <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token function">setChartLoading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">queryChartData</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token function">setChartLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token function">setChartData</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> tableProps <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">{</span>\n      <span class="token literal-property property">columns</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n        <span class="token punctuation">{</span>\n          <span class="token literal-property property">dataIndex</span><span class="token operator">:</span> <span class="token string">\'name\'</span><span class="token punctuation">,</span>\n          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">\'集群名称\'</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n        <span class="token punctuation">{</span>\n          <span class="token literal-property property">dataIndex</span><span class="token operator">:</span> <span class="token string">\'name1\'</span><span class="token punctuation">,</span>\n          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">\'存储容量（GB）\'</span><span class="token punctuation">,</span>\n          <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n        <span class="token punctuation">{</span>\n          <span class="token literal-property property">dataIndex</span><span class="token operator">:</span> <span class="token string">\'name2\'</span><span class="token punctuation">,</span>\n          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">\'实际存储量\'</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n        <span class="token punctuation">{</span>\n          <span class="token literal-property property">dataIndex</span><span class="token operator">:</span> <span class="token string">\'name3\'</span><span class="token punctuation">,</span>\n          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">\'预留存储量\'</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n        <span class="token punctuation">{</span>\n          <span class="token literal-property property">dataIndex</span><span class="token operator">:</span> <span class="token string">\'name4\'</span><span class="token punctuation">,</span>\n          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">\'可用存储量\'</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">]</span><span class="token punctuation">,</span>\n      <span class="token literal-property property">showSearch</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n      <span class="token literal-property property">attrs</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token literal-property property">loading</span><span class="token operator">:</span> tableLoading<span class="token punctuation">,</span>\n        <span class="token literal-property property">rowKey</span><span class="token operator">:</span> <span class="token string">\'id\'</span><span class="token punctuation">,</span>\n        <span class="token literal-property property">pagination</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span>pagination<span class="token punctuation">,</span> <span class="token literal-property property">total</span><span class="token operator">:</span> tableData<span class="token operator">?.</span>pagination<span class="token operator">?.</span>total <span class="token punctuation">}</span><span class="token punctuation">,</span>\n        <span class="token function-variable function">onChange</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">pagination</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n          <span class="token function">setPagination</span><span class="token punctuation">(</span>pagination<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token function">getTableData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>pagination<span class="token punctuation">,</span> hightLightItem<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token function">getChartData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TableWithPieChart</span></span>\n        <span class="token attr-name">wrapStyle</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>\n          <span class="token literal-property property">display</span><span class="token operator">:</span> <span class="token string">\'flex\'</span><span class="token punctuation">,</span>\n          <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token string">\'100%\'</span><span class="token punctuation">,</span>\n          <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n        <span class="token attr-name">tableStyle</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>\n          <span class="token literal-property property">flex</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n          <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token string">\'100%\'</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n        <span class="token attr-name">chartStyle</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>\n          <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span>\n          <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token string">\'100%\'</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n        <span class="token attr-name">chartLoading</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>chartLoading<span class="token punctuation">}</span></span>\n        <span class="token attr-name">hightlightIndex</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token function">getChartHighlightIndex</span><span class="token punctuation">(</span>chartData<span class="token punctuation">)</span><span class="token punctuation">}</span></span>\n        <span class="token attr-name">updateHighlighItem</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>setHightLightItem<span class="token punctuation">}</span></span>\n        <span class="token attr-name">tableProps</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>tableProps<span class="token punctuation">}</span></span>\n        <span class="token attr-name">tableData</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>tableData<span class="token operator">?.</span>bizData<span class="token punctuation">}</span></span>\n        <span class="token attr-name">chartProps</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>\n          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n            <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">\'存储容量\'</span><span class="token punctuation">,</span>\n          <span class="token punctuation">}</span><span class="token punctuation">,</span>\n          <span class="token literal-property property">series</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n            <span class="token punctuation">{</span>\n              <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">\'55%\'</span><span class="token punctuation">,</span> <span class="token string">\'50%\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n              <span class="token literal-property property">radius</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n          <span class="token punctuation">]</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n        <span class="token attr-name">chartData</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>chartData<span class="token punctuation">}</span></span>\n      <span class="token punctuation">/></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Demo</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span> mountNode<span class="token punctuation">)</span><span class="token punctuation">;</span>\n'},preview:function(){s(0),s(35);function n(a){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(a)}var a=function(a,s){if(!s&&a&&a.__esModule)return a;if(null===a||"object"!==n(a)&&"function"!=typeof a)return{default:a};var t=p(s);if(t&&t.has(a))return t.get(a);var o={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in a)if("default"!==c&&Object.prototype.hasOwnProperty.call(a,c)){var u=e?Object.getOwnPropertyDescriptor(a,c):null;u&&(u.get||u.set)?Object.defineProperty(o,c,u):o[c]=a[c]}o.default=a,t&&t.set(a,o);return o}(s(0)),t=s(96);function p(n){if("function"!=typeof WeakMap)return null;var a=new WeakMap,s=new WeakMap;return(p=function(n){return n?s:a})(n)}function o(n,a){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),s.push.apply(s,t)}return s}function e(n){for(var a=1;a<arguments.length;a++){var s=null!=arguments[a]?arguments[a]:{};a%2?o(Object(s),!0).forEach((function(a){c(n,a,s[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(s,a))}))}return n}function c(n,a,s){return a in n?Object.defineProperty(n,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[a]=s,n}function u(n,a,s,t,p,o,e){try{var c=n[o](e),u=c.value}catch(n){return void s(n)}c.done?a(u):Promise.resolve(u).then(t,p)}function l(n){return function(){var a=this,s=arguments;return new Promise((function(t,p){var o=n.apply(a,s);function e(n){u(o,t,p,e,c,"next",n)}function c(n){u(o,t,p,e,c,"throw",n)}e(void 0)}))}}function k(n,a){return function(n){if(Array.isArray(n))return n}(n)||function(n,a){var s=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null==s)return;var t,p,o=[],e=!0,c=!1;try{for(s=s.call(n);!(e=(t=s.next()).done)&&(o.push(t.value),!a||o.length!==a);e=!0);}catch(n){c=!0,p=n}finally{try{e||null==s.return||s.return()}finally{if(c)throw p}}return o}(n,a)||function(n,a){if(!n)return;if("string"==typeof n)return i(n,a);var s=Object.prototype.toString.call(n).slice(8,-1);"Object"===s&&n.constructor&&(s=n.constructor.name);if("Map"===s||"Set"===s)return Array.from(n);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return i(n,a)}(n,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(n,a){(null==a||a>n.length)&&(a=n.length);for(var s=0,t=new Array(a);s<a;s++)t[s]=n[s];return t}var r=function(){var n,s,p=k((0,a.useState)(),2),o=p[0],c=p[1],u=k((0,a.useState)(),2),i=u[0],r=u[1],g=k((0,a.useState)(!1),2),m=g[0],d=g[1],y=k((0,a.useState)(!1),2),h=y[0],f=y[1],b=k((0,a.useState)({current:1,pageSize:10,total:0,showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","20","50","100","200","500"],showTotal:function(n){return"共 ".concat(n," 条")}}),2),w=b[0],v=b[1],D=k((0,a.useState)({name:"<10%"}),2),S=D[0],x=D[1],I=function(){var n=l(regeneratorRuntime.mark((function n(){var a,s,t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=w.current,s=w.pageSize,e({pageNo:a,pageSize:s},S),d(!0),n.next=5,new Promise((function(n){setTimeout((function(){n({pagination:{pageNo:1,paheSize:10,total:2},bizData:[{id:1,name:(1e3*Math.random()).toFixed(),name1:"",name2:"阿苏菲玛索；方面",name3:"对方水电费",name4:"f是否的水电费水电费"},{id:2,name:"集群002",name1:"asdasda",name2:"阿斯达撒所大所多",name3:"对方水电费",name4:"f是否的水电费水电费"},{id:3,name:(1e3*Math.random()).toFixed(),name1:"",name2:"阿苏菲玛索；方面",name3:"对方水电费",name4:"f是否的水电费水电费"},{id:4,name:"集群003",name1:"asdasda",name2:"阿斯达撒所大所多",name3:"对方水电费",name4:"f是否的水电费水电费"}]})}),3e3)}));case 5:t=n.sent,d(!1),c(t);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),L=function(){var n=l(regeneratorRuntime.mark((function n(){var a,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e({},S),f(!0),n.next=4,new Promise((function(n){setTimeout((function(){n({data:[{value:(1e3*Math.random()).toFixed(),highlight:!0,name:"可用存储量<10%"},{value:735,name:"可用存储量>50%"},{value:580,name:"可用存储量：30%-40%"},{value:484,name:"可用存储量：20%-30%"},{value:300,name:"可用存储量：10%-20%"}]})}),3e3)}));case 4:a=n.sent,s=a.data,f(!1),r(s);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),C={columns:[{dataIndex:"name",title:"集群名称"},{dataIndex:"name1",title:"存储容量（GB）",width:50},{dataIndex:"name2",title:"实际存储量"},{dataIndex:"name3",title:"预留存储量"},{dataIndex:"name4",title:"可用存储量"}],showSearch:!1,attrs:{loading:m,rowKey:"id",pagination:e(e({},w),{},{total:null==o||null===(n=o.pagination)||void 0===n?void 0:n.total}),onChange:function(n){v(n)}}};return(0,a.useEffect)((function(){I()}),[w,S]),(0,a.useEffect)((function(){L()}),[]),a.default.createElement("div",null,a.default.createElement(t.TableWithPieChart,{wrapStyle:{display:"flex",width:"100%",height:300},tableStyle:{flex:1,height:"100%"},chartStyle:{width:500,height:"100%"},chartLoading:h,hightlightIndex:(s=i,s&&s.findIndex((function(n){return n.highlight}))),updateHighlighItem:x,tableProps:C,tableData:null==o?void 0:o.bizData,chartProps:{title:{text:"存储容量"},series:[{center:["55%","50%"],radius:[34,56]}]},chartData:i}))};return a.default.createElement(r,null)}}}}]);